<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>git-vogue</title>
        <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet" type="text/css" />
        <link href="http://fonts.googleapis.com/css?family=Inconsolata:400,700" rel="stylesheet" type="text/css" />
        <link rel="stylesheet" type="text/css" href="./css/default.css" />
        <script type="text/javascript" src="./js/jquery.min.js"></script>
        <script type="text/javascript" src="./js/smooth-scroll.js"></script>
        <script type="text/javascript" src="./js/run.js"></script>
    </head>
    <body>
        <header data-scroll-header>
            <div id="navigation">
                <a data-scroll href="#title">Top</a>
                <a data-scroll href="#installation">Installation</a>
                <a data-scroll href="#rationale">Rationale</a>
                <a data-scroll href="#plugin-design">Plugin Design</a>
                <a data-scroll href="#developing-a-plugin">Developing a Plugin</a>
                <a href="https://www.anchor.com.au">Anchor</a>
                <a href="https://github.com/anchor/git-vogue">Github</a>
            </div>
        </header>

        <section id="content">
            <h1 id="title">git-vogue</h1>

            <p><a href="https://travis-ci.org/anchor/git-vogue"><img src="http://travis-ci.org/anchor/git-vogue.png" alt="Travis Status" /></a></p>
<p><em>git-vogue</em> assists developers to keep their Haskell code <a href="https://www.youtube.com/watch?v=GuJQSAiODqI">“in vogue”</a>.</p>
<p>This package defines a list of commands to check code quality, comments, and formatting continually. <em>git-vogue</em> will set up your repository to run all command pairs on commit, giving instant feedback on the quality of code, and helping fix issues more quickly.</p>
<p>Currently, <em>git-vogue</em> will support <a href="http://hackage.haskell.org/package/hlint">hlint</a>, <a href="https://hackage.haskell.org/package/hspec">hspec</a> and <a href="https://hackage.haskell.org/package/stylish-haskell">Stylish Haskell</a>.</p>
<h2 id="installation">Installation</h2>
<p>See instructions here:</p>
<p><a href="https://github.com/anchor/git-vogue">git-vogue Github page</a></p>
<h2 id="rationale">Rationale</h2>
<p>At <em>Anchor Engineering</em>, we’ve been working with Haskell for some time, and we’ve encountered some interesting problems along the way. A lot of these problems have to do with <em>code readiness</em>: code that is not only ready to run and deploy, but also ready to pass on to other developers so they can maintain and update it.</p>
<h3 id="formatting">Formatting</h3>
<p>Nobody formats their code quite the same way, making it difficult for developers to pick up each other’s code and read or change it. Differences in spaces verses tabs, or how methods are delimited can cause issues with a lack of standardization.</p>
<p>To make things easier for everyone (including yourself), we’ve set up <em>git-vogue</em> to use <strong>Stylish Haskell</strong> to check if your code conforms to a given format. If it doesn’t, your commit will not be allowed to be pushed upstream, and you will instead receive a number of recommeded changes.</p>
<h2 id="plugin-design">Plugin design</h2>
<p><strong>The interface</strong> for an executable is a single argument, one of:</p>
<ul>
<li>check</li>
<li>fix</li>
<li>name</li>
</ul>
<p>The plugin can assume that the CWD will be set to the top-level directory of the package.</p>
<p>The plugin will receive a list of all files in the current repository that are not to be ignored via STDIN when running in “check” or “fix” mode. These file paths will be absolute and newline separated.</p>
<p><strong>Rules for each plugin</strong></p>
<ul>
<li><code>check</code> shall not modify any files</li>
<li><code>check</code> may have various return values:
<ul>
<li>No errors - return code 0</li>
<li>Errors need fixing - return code 1</li>
<li>Catastrophic failure to check - return code 2</li>
</ul></li>
<li><code>fix</code> is idempotent</li>
<li><code>fix</code> may have various return values:
<ul>
<li>The code is now good (changes may or may not have been made) - return code 0</li>
<li>Some errors remain - return code 1</li>
<li>Catastrophic failure to check - return code 2</li>
</ul></li>
<li>If <code>fix</code> returns “success” (return code 0), <code>check</code> must no longer fail</li>
</ul>
<h2 id="developing-a-plugin">Developing a plugin</h2>
<p><em>Anchor</em> has developed all its <em>git-vogue</em> plugins in Haskell, but you can implement them in any language that works with your POSIX-compatible environment.</p>
        </section>

        <footer>
            <p class="info">© Anchor 2015.</p>
        </footer>
    </body>
</html>
